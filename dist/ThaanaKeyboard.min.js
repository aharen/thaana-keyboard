var ThaanaKeyboard = function () { function t(t, e) { void 0 === t && (t = ".thaana-keyboard"), void 0 === e && (e = !0), this.selectionChange = function () { var t = document.activeElement; t.dataset.start = t.selectionStart, t.dataset.end = t.selectionEnd }, this.className = t, !0 === e && this.run() } return t.prototype.run = function () { var t = this, e = document.querySelectorAll(this.className); e.forEach(function (e) { return e.addEventListener("beforeinput", function (e) { return t.beforeInputEvent(e) }) }), e.forEach(function (e) { return e.addEventListener("input", function (e) { return t.inputEvent(e) }) }), document.addEventListener("selectionchange", this.selectionChange) }, t.prototype.beforeInputEvent = function (t) { var e = t, n = e.target; -1 !== ["insertCompositionText", "insertText"].indexOf(e.inputType) && (this.latinChar = e.data.charAt(e.data.length - 1), this.char = this.getChar(this.latinChar), this.oldValue = n.value) }, t.prototype.inputEvent = function (t) { var e = t; e.target; if (-1 !== ["insertCompositionText", "insertText"].indexOf(e.inputType) && this.char !== this.latinChar) { var n = e.target, a = n.selectionStart, i = n.selectionEnd; n.value = "", n.value = this.oldValue.split(this.latinChar).join(""); var r = Number(n.dataset.start), o = Number(n.dataset.end); o - r > 0 && (n.value = n.value.substring(0, r) + n.value.substring(o)); var s = n.value.substring(0, a - 1); s += this.char, s += n.value.substring(a - 1), n.value = s, n.selectionStart = a, n.selectionEnd = i } }, t.prototype.getChar = function (t) { return { q: "ް", w: "އ", e: "ެ", r: "ރ", t: "ތ", y: "ޔ", u: "ު", i: "ި", o: "ޮ", p: "ޕ", a: "ަ", s: "ސ", d: "ދ", f: "ފ", g: "ގ", h: "ހ", j: "ޖ", k: "ކ", l: "ލ", z: "ޒ", x: "×", c: "ޗ", v: "ވ", b: "ބ", n: "ނ", m: "މ", Q: "ޤ", W: "ޢ", E: "ޭ", R: "ޜ", T: "ޓ", Y: "ޠ", U: "ޫ", I: "ީ", O: "ޯ", P: "÷", A: "ާ", S: "ށ", D: "ޑ", F: "ﷲ", G: "ޣ", H: "ޙ", J: "ޛ", K: "ޚ", L: "ޅ", Z: "ޡ", X: "ޘ", C: "ޝ", V: "ޥ", B: "ޞ", N: "ޏ", M: "ޟ", ",": "،", ";": "؛", "?": "؟", "<": ">", ">": "<", "[": "]", "]": "[", "(": ")", ")": "(", "{": "}", "}": "{" }[t] || t }, t }(); window.ThaanaKeyboard = ThaanaKeyboard;